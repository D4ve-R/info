(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7268],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return m}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=s(n),m=r,f=p["".concat(c,".").concat(m)]||p[m]||u[m]||o;return n?i.createElement(f,a(a({ref:t},d),{},{components:n})):i.createElement(f,a({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var s=2;s<o;s++)a[s]=n[s];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3878:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(7294),r="icon_1PGw",o=n(9205),a=function(e){return i.createElement("div",{className:"alert alert--primary",role:"alert",style:{margin:"2rem"}},i.createElement("div",{className:r},i.createElement(o.A,{icon:"\ud83d\udca1",active:"true"})),e.children)}},983:function(e,t,n){"use strict";n.d(t,{M:function(){return l}});var i=n(7294),r=n(9205),o="titleOffset_2I3u",a="iconContainer_1xRA",l=function(e){var t=e.title?i.createElement("div",{className:"card__header"},i.createElement("span",{className:a},e.icon&&i.createElement(r.A,{icon:e.icon,link:e.link,active:"true"})),i.createElement("h3",{className:e.icon&&o},e.title)):"";return i.createElement("div",{className:"card-demo",style:{margin:"2rem"}},i.createElement("div",{className:"card"},t,i.createElement("div",{className:"card__body"},i.createElement("p",null," ",e.children," "))))}},9205:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var i=n(7294),r="hidden_2JtY",o="iconContainer_2Rnc",a="visible_2147",l="link_Lh4h",c="clickable_3vcc",s=function(e){var t=" "+(e.active?a:r),n=l+" "+(e.link&&c);return i.createElement("div",{className:o+t},i.createElement("a",{href:e.link,className:n},e.icon||"\ud83d\ude80"))}},6649:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var i=n(7294),r="threeScene_3QXR",o=function(e){return i.createElement("iframe",{className:r,width:"100%",height:"600px",key:Math.random(),src:e.link,frameBorder:"0"})}},8329:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return d},toc:function(){return u},default:function(){return m}});var i=n(2122),r=n(9756),o=(n(7294),n(3905)),a=n(983),l=(n(3878),n(6649)),c=["components"],s={title:"Introduction",sidebar_position:2},d={unversionedId:"Guide/web-ifc-viewer/Introduction",id:"Guide/web-ifc-viewer/Introduction",isDocsHomePage:!1,title:"Introduction",description:"Introduction",source:"@site/docs/Guide/web-ifc-viewer/Introduction.mdx",sourceDirName:"Guide/web-ifc-viewer",slug:"/Guide/web-ifc-viewer/Introduction",permalink:"/info/docs/Guide/web-ifc-viewer/Introduction",version:"current",sidebarPosition:2,frontMatter:{title:"Introduction",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\ud83d\uddfa\ufe0f Mapbox",permalink:"/info/docs/Guide/web-ifc-three/Tutorials/Mapbox"},next:{title:"\ud83e\udd0f Picking",permalink:"/info/docs/Guide/web-ifc-viewer/Tutorials/Picking"}},u=[{value:"Introduction",id:"introduction",children:[]},{value:"Setting up the project",id:"setting-up-the-project",children:[{value:"Installing libraries",id:"installing-libraries",children:[]},{value:"HTML, CSS, Bundling &amp; WASM files",id:"html-css-bundling--wasm-files",children:[]}]},{value:"Setting up 3D-Scene (web-ifc-viewer)",id:"setting-up-3d-scene-web-ifc-viewer",children:[]},{value:"Loading IFC files",id:"loading-ifc-files",children:[{value:"Loading user&#39;s models",id:"loading-users-models",children:[]},{value:"Loading our models",id:"loading-our-models",children:[]}]},{value:"Conclusion",id:"conclusion",children:[]}],p={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,c);return(0,o.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"\ud83d\udc69\u200d\ud83c\udfeb As discussed in the ",(0,o.kt)("a",{parentName:"p",href:"../Getting%20started.mdx"},"Getting Started")," guide - web-ifc-three viewer is a 3D BIM viewer with many tools and functionalities already implemented (section drawings, dimensions, etc.), allowing you to create BIM tools with very little effort.\\\nIt is suggested to use this when you want to create a BIM viewer and you don't want to spend time implementing all the model navigation tools you would like to have."),(0,o.kt)("h2",{id:"setting-up-the-project"},"Setting up the project"),(0,o.kt)("p",null,"\ud83e\uddf1 The ",(0,o.kt)("a",{parentName:"p",href:"../../Hello%20world.mdx"},"Hello World")," guide talks about the basic set-up of a ifc.js project. But with web-ifc-viewer the set-up becomes even more simpler because most of the set-up is already done for you."),(0,o.kt)("p",null,"The first thing to do is to create an empty folder and ",(0,o.kt)("a",{parentName:"p",href:"https://docs.npmjs.com/cli/v8/commands/npm-init"},"start a new npm project")," with the command ",(0,o.kt)("inlineCode",{parentName:"p"},"npm init"),". This will generate a package.json file containing some data such as the project name, version, commands and dependencies"),(0,o.kt)("h3",{id:"installing-libraries"},"Installing libraries"),(0,o.kt)("p",null,"\ud83c\udfaf The next step is to install the dependencies necessary for this project. Below are the commands that install the respective dependencies:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"//Install web-ifc-viewer\nnpm i web-ifc-viewer\n\n// Install a bundler: we will use rollup.js for this guide\nnpm i rollup --save-dev\nnpm i @rollup/plugin-node-resolve --save-dev\n")),(0,o.kt)(a.M,{icon:"\ud83d\udcc3",title:"three.js?",mdxType:"IfcCard"},"Note that installing web-ifc-three also installs the three.js library which allows you to customize the viewer as required in the next steps"),(0,o.kt)("h3",{id:"html-css-bundling--wasm-files"},"HTML, CSS, Bundling & WASM files"),(0,o.kt)("p",null,"\ud83d\udcdd\ud83c\udfa8\ud83e\uddfb\ud83d\udcc1 You can follow the steps in the ",(0,o.kt)("a",{parentName:"p",href:"../../Hello%20world.mdx"},"Hello World")," guide to create the ",(0,o.kt)("inlineCode",{parentName:"p"},"index.html"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"styles.css"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"rollup.config.js")," files and also copy the necessary ",(0,o.kt)("inlineCode",{parentName:"p"},".wasm")," files from ",(0,o.kt)("inlineCode",{parentName:"p"},"node_modules\\web-ifc")," (or ",(0,o.kt)("inlineCode",{parentName:"p"},"node_modules\\three\\examples\\jsm\\loaders\\ifc")," folder."),(0,o.kt)(a.M,{icon:"\ud83d\udcc3",title:"minor change in index.html",mdxType:"IfcCard"},'Note that there is one minor change in index.html file you need to make - compared to the "Hello World" guide. You don\'t need to create a `canvas` element manually as it will b created by web-ifc-viewer for you. But you do need to add the container element in which the viewer is supposed to be placed in.'),(0,o.kt)("p",null,"Replace ",(0,o.kt)("inlineCode",{parentName:"p"},'<canvas id="three-canvas"></canvas>')," from you ",(0,o.kt)("inlineCode",{parentName:"p"},"index.html")," file with ",(0,o.kt)("inlineCode",{parentName:"p"},'<div id="viewer-container"></div>')),(0,o.kt)(a.M,{icon:"\ud83c\udf0f",title:"What else can I do with IFC.js?",mdxType:"IfcCard"},"To run the application locally we will need a local server. If you are using VS Code as IDE, one option is to install the ",(0,o.kt)("a",{href:"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer"},"Live Server extension"),", which allows us to open an instance of Google Chrome, run our web application and see the changes we make to the code in real-time."),(0,o.kt)("h2",{id:"setting-up-3d-scene-web-ifc-viewer"},"Setting up 3D-Scene (web-ifc-viewer)"),(0,o.kt)("p",null,"Once you have the ",(0,o.kt)("inlineCode",{parentName:"p"},"index.html"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"styles.css")," & the ",(0,o.kt)("inlineCode",{parentName:"p"},".wasm")," files in place, you can then move on to adding the javascript(",(0,o.kt)("inlineCode",{parentName:"p"},"index.js"),") which will load the viewer. This file can be located anywhere and have any name, but you must reflect this in the ",(0,o.kt)("inlineCode",{parentName:"p"},"rollup.config.js"),"."),(0,o.kt)("p",null,"\ud83c\udfa5 Below code is where we are setting up a basic threejs scene using ",(0,o.kt)("inlineCode",{parentName:"p"},"IfcViewerAPI()")," method of ",(0,o.kt)("inlineCode",{parentName:"p"},"web-ifc-viewer"),". Note that this code is just the viewer - In the next step we will add the functionality to load models into this viewer."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'import { Color } from "three";\nimport { IfcViewerAPI } from "web-ifc-viewer";\n\nconst container = document.getElementById("viewer-container");\nconst viewer = new IfcViewerAPI({\n  container,\n  backgroundColor: new Color(0xffffff),\n});\nviewer.axes.setAxes();\nviewer.grid.setGrid();\n\nconst input = document.getElementById("file-input");\n\nwindow.ondblclick = () => viewer.IFC.selector.pickIfcItem(true);\nwindow.onmousemove = () => viewer.IFC.selector.prePickIfcItem();\nviewer.clipper.active = true;\n\nwindow.onkeydown = (event) => {\n  if (event.code === "KeyP") {\n    viewer.clipper.createPlane();\n  } else if (event.code === "KeyO") {\n    viewer.clipper.deletePlane();\n  }\n};\n')),(0,o.kt)("h2",{id:"loading-ifc-files"},"Loading IFC files"),(0,o.kt)("h3",{id:"loading-users-models"},"Loading user's models"),(0,o.kt)("p",null,"\ud83c\udfe0 Finally, we will use IFC.js to load IFC files by allowing the user to choose a local file and using the ",(0,o.kt)("inlineCode",{parentName:"p"},"IfcViewerAPI()")," we instantiated above to load the model."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'input.addEventListener(\n  "change",\n\n  async (changed) => {\n    const file = changed.target.files[0];\n    const ifcURL = URL.createObjectURL(file);\n    viewer.IFC.loadIfcUrl(ifcURL);\n  },\n\n  false\n);\n')),(0,o.kt)("h3",{id:"loading-our-models"},"Loading our models"),(0,o.kt)("p",null,"\ud83c\udfe0 In order to load a ifc file from a server, you need to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"loadIfcUrl()")," to convert the model path url into something that the web-ifc-viewer can read. Below is a function ",(0,o.kt)("inlineCode",{parentName:"p"},"loadIfc(url)")," that is used to do that."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'async function loadIfc(url) {\n  const model = await viewer.IFC.loadIfcUrl(url);\n  viewer.shadowDropper.renderShadow(model.modelID);\n}\n\n// load model from the below path in your repository\nloadIfc("models/01.ifc");\n')),(0,o.kt)("p",null,"\ud83d\udea9If you have done everything correctly, you should be able to see something similar to ",(0,o.kt)("a",{parentName:"p",href:"https://ifcjs.github.io/hello-world/examples/web-ifc-viewer/hello-world/"},"this")," in your local server."),(0,o.kt)(l.x,{link:"https://ifcjs.github.io/hello-world/examples/web-ifc-viewer/hello-world/",mdxType:"Scene"}),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"\ud83c\udf89\nCongratulations! You have just created your first IFC viewer. Go to the next pages of the docs to find out what else can you do with IFC Viewer."),(0,o.kt)("p",null,'{" "}'),(0,o.kt)(a.M,{icon:"\ud83d\udd25",title:"What else can I do with IFC.js?",mdxType:"IfcCard"},"This is just the beginning. You can take a look at ",(0,o.kt)("a",{href:"https://github.com/IFCjs/hello-world/tree/main/examples/web-ifc-viewer"},"web-ifc-viewer examples"),", which includes tools for floor plans, changing geometry visibility, floor plans and much more. You can try it ",(0,o.kt)("a",{href:"https://ifcjs.github.io/web-ifc-viewer/example/index"},"here"),"."),(0,o.kt)("p",null,"\u23e9 In the next set of articles, we will talk about how to enable additional in-build features in web-ifc-viewer."))}m.isMDXComponent=!0}}]);